# 数据库

## MySQL

### 索引失效场景

#### 组合索引失效

设置组合索引为多个字段，没有满足最左前缀原则。

例如：name和group为联合索引

如下索引正常

```
select * from user where name='a' and group='c';
select * from user where name='a' ;
select * from user where group='c' and name='a';
```



如下为索引失效：

```
select * from user where  group='c';
```

#### Or查询失效

如果or条件中有一边没有索引，那么索引会失效。只有条件的两边都是有索引的，索引才会生效。

#### like %XXXX

模糊匹配的时候把%加在最前边的时候，索引无效，加在后面可以

#### 类型转换/使用函数时失效

如果列类型是字符串，那一定要在条件中将数据使用引号引用起来,否则不使用索引

使用转换函数，时间格式化，数值计算都会导致索引失效。

#### NOT IN

### MySQL命令

[一千行MySQL命令](https://github.com/Snailclimb/JavaGuide/blob/master/docs/database/%E4%B8%80%E5%8D%83%E8%A1%8CMySQL%E5%91%BD%E4%BB%A4.md)

### 高性能优化规范建议

[MySQL高性能优化规范建议](https://github.com/Snailclimb/JavaGuide/blob/master/docs/database/MySQL%E9%AB%98%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E8%A7%84%E8%8C%83%E5%BB%BA%E8%AE%AE.md)

## 参考

1. [MySQL](https://github.com/Snailclimb/JavaGuide#mysql)